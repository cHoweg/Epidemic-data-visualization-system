<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title >疫情最新动态</title>
    <link  rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}">
    <link  rel="stylesheet" href="../static/css/dashboard.css" th:href="@{/css/dashboard.css}">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="echarts/echarts.min.js"></script>

</head>

<body class="worldList">


<select class="select1"  id="select1" name="select3" onchange="a()">
    <option value=8>全球</option>
    <option th:each="data:${worldBeansList1}" th:text="${data.continentName}" th:value="${dataStat.index}" ></option>
</select>

<script type="text/javascript" th:inline="javascript">
    var a=function(){
        var id=$("#select1").val()
        $.post({
            url: "/worldDetail",
            data: {"id":id},
            success: function(data)
            {
                var str=``
                var title=``
                console.log(data)
                if(id!=8){
                    title+=`    <thead id="thead_list">
    <tr>
        <th><p class="list1" >国家/大洲</p></th>
        <th><p class="list1" >现有确诊</p></th>
        <th><p class="list1" >累计治愈</p></th>
        <th><p class="list1" >累计死亡</p></th>
        <th><p class="list1" >累计确诊</p></th>
    </tr>
    </thead>`
                }else {  title+=`    <thead id="thead_list">
    <tr>
        <th><p class="list1" >国家/大洲</p></th>
        <th><p class="list1" >现有确诊</p></th>
        <th><p class="list1" >累计治愈</p></th>
        <th><p class="list1" >累计死亡</p></th>
    </tr>
    </thead>`}
                for(var i=0;i<data.length;i++)
                {
                    if(id!=8){
                        str+=`
                        <tr class="pvl">
                            <td class="list2" >${data[i].provinceProvinceName}</td>
                            <td class="list2" >${data[i].provinceCurrentConfirmedCount}</td>
                            <td class="list2" >${data[i].provinceCuredCount}</td>
                            <td class="list2" >${data[i].provinceDeadCount}</td>
                            <td class="list2" >${data[i].provinceConfirmedCount}</td>
                        </tr>
`}
                    else{

                        str+=`
                        <tr>
                            <td class="list2" >${data[i].continentName}</td>
                            <td class="list2" >${data[i].confirmedCount}</td>
                            <td class="list2" >${data[i].curedCount}</td>
                            <td class="list2" >${data[i].deadCount}</td>
                        </tr>
`}
                }
                document.getElementById("thead_list").innerHTML=title
                document.getElementById("tbody_list").innerHTML=str
            },
            error: function () {},
        })
    }
</script>
<table class="table table-hover table1">
    <thead id="thead_list">
    <tr>
        <th><p class="list1" >国家/大洲</p></th>
        <th><p class="list1" >现有确诊</p></th>
        <th><p class="list1" >累计治愈</p></th>
        <th><p class="list1" >累计死亡</p></th>
    </tr>
    </thead>
    <tbody id="tbody_list">
    <tr class="list2"  id="6" th:each="data:${worldBeansList1}">
        <td class="list2"  id="7" th:text="${data.continentName}">name</td>
        <td class="list2"  id="8" th:text="${data.confirmedCount}">nowConfirm</td>
        <td class="list2"  id="9" th:text="${data.curedCount}">heal</td>
        <td class="list2"  id="10" th:text="${data.deadCount}">dead</td>
    </tr>
    </tbody>
</table>
</div>

</body>
</html>

